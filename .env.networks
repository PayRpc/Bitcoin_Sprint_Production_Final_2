# -------------------------------
# Ethereum Configuration
# -------------------------------
# Primary HTTP Endpoint (for simple mode or specific uses)
ETH_HTTP_URL=https://eth.rpc.nethermind.io
# Primary WebSocket Endpoint (for subscriptions)
ETH_WS_URL=wss://ethereum.publicnode.com

# List of HTTP endpoints for RelayDispatcher multi-peer aggregation
ETH_HTTP_ENDPOINTS=https://eth.rpc.nethermind.io,https://rpc.eth.gateway.fm,https://ethereum.publicnode.com
# List of WebSocket endpoints for redundancy
ETH_WS_ENDPOINTS=wss://ethereum.publicnode.com,wss://eth.drpc.org

# Specialized endpoint for transaction sending (to be used by router)
ETH_TX_ENDPOINT=https://rpc.flashbots.net

ETH_POLL_INTERVAL=5000
# ETH_RATE_LIMIT=1  # Overridden by Acceleration Layer's logic

# -------------------------------
# Solana Configuration
# -------------------------------
SOL_RPC_URL=https://api.mainnet-beta.solana.com
SOLANA_RPC_ENDPOINTS=https://api.mainnet-beta.solana.com,https://solana-rpc.publicnode.com,https://rpc.ankr.com/solana
SOLANA_WS_ENDPOINTS=wss://api.mainnet-beta.solana.com,wss://solana-mainnet.blockpi.network/v1/ws/public

SOLANA_POLL_INTERVAL=5000
# SOL_RATE_LIMIT=1 # Overridden by Acceleration Layer's logic

# -------------------------------
# Network & Performance Settings
# -------------------------------
ETH_TIMEOUT=30s
SOLANA_TIMEOUT=30s
WS_TIMEOUT=30s
CONNECTION_TIMEOUT_SEC=15

ETH_MAX_CONNECTIONS=10  # Increased for multi-peer
SOLANA_MAX_CONNECTIONS=15 # Increased for multi-peer
MAX_CONCURRENT_REQUESTS=50 # Increased to handle fan-out
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY_MS=2000      # Using milliseconds for precision

# -------------------------------
# Acceleration Layer Settings
# -------------------------------
# This is where the real magic happens
MULTI_PEER_REDUNDANCY=true
ENDPOINT_CIRCUIT_BREAKER=true
CIRCUIT_BREAKER_THRESHOLD=5 # Mark endpoint as dead after 5 failures
PROVIDER_HEALTH_CHECK_INTERVAL=30s

# Strategy for multi-peer: "first_response" | "quorum" | "fallback"
PEER_SELECTION_STRATEGY=first_response

# Predictive pre-caching
PREDICTIVE_CACHING_ENABLED=true
CACHE_HIT_TARGET=87
